<div class="modal-header">
  <% title_half = (params[:action] == 'new' or params[:action] == 'create') ? 'Add' : 'Edit' %>
  <h5 class="modal-title"><%= title_half %> Venue</h5>
</div>
<div class="modal-body">
  <%= form_for @venue do |f| %>
    <%#= render "devise/shared/error_messages", resource: resource %>
    <div class="form-group">
      <%= f.label :business, class: 'text-capitalize fs-17 asterisk' %><br />
      <%#= f.text_field :business_id, class:"form-control", placeholder: "Enter State", required: true  %>
      <% disable = (f.object.new_record? && f.object.business_id.present?) ? true : false %>
      <%= f.select :business_id, options_for_select(Business.pluck(:name, :id).to_h, f.object.business&.id), {include_blank: 'Select Business'}, {class:"form-control product-selection", required: true, disabled: disable} %>
    </div>

    <div class="form-group mt-4">
      <%= f.label :venue_domain_name, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.text_field :domain, class:"form-control", placeholder:"Enter Venue Domain Name", required: true, 'parsley-trigger': "change keyup", 'parsley-type': "url",'data-parsley-pattern': '^(https?:\/\/)?(www\.)?([a-zA-Z0-9]+(-?[a-zA-Z0-9])*\.)+[\w]{2,}(\/\S*)?$','data-parsley-pattern-message': 'Domain Name is Invalid' %>
    </div>

    <div class="form-group">
      <%= f.label :venue_name, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.text_field :name, class:"form-control", placeholder:"Enter Venue Name", required: true, 'data-parsley-trigger': "keyup", 'data-parsley-maxlength': "100", 'data-parsley-maxlength-message': "Business Name should have 100 characters or fewer.", 'data-parsley-validation-threshold': "10" %>
    </div>

    <div class="form-group">
      <%= f.label :phone_number, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.text_field :phone_no, autofocus: true, autocomplete: "phone_no", placeholder:"(xxx) xxx-xxx", class: 'form-control phone-number', pattern: "/^([\+][0-9]{1,3}([ \.\-])?)?([\(]{1}[0-9]{3}[\)])?([0-9A-Z \.\-]{1,32})((x|ext|extension)?[0-9]{1,4}?)$/", 'data-parsley-pattern-message': 'Please enter Only Digit', 'data-parsley-trigger': 'change keyup', 'data-parsley-length': '[14,14]', 'data-parsley-length-message': 'Please enter 10 digits only', required: true, 'data-parsley-required-message': 'This value is required' %>
    </div>

    <div class="form-group">
      <%= f.label :zip_code, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.text_field :zip_code, class:"form-control", placeholder:"Enter Zip Code", required: true %>
    </div>

    <div class="form-group">
      <%= f.label :address, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.text_field :address, class:"form-control", placeholder: "Enter Address", required: true %>
    </div>

    <div class="form-group">
      <%= f.label :city, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.text_field :city, class:"form-control", placeholder: "Enter City", required: true %>
    </div>

    <div class="form-group">
      <%= f.label :state, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.text_field :state, class:"form-control", placeholder: "Enter State", required: true %>
    </div>

    <div class="form-group">
      <%= f.label :description, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.text_area :description, class:"form-control h-auto", placeholder: "Enter Description", required: true, rows: 8 %>
    </div>

    <div class="form-group">
      <% emp_record = f.object.new_record? ? "" : f.object.no_of_employee %>
      <%= f.label :no_of_employee, class: 'text-capitalize fs-17 asterisk' %><br />
      <%= f.number_field :no_of_employee, value: emp_record, class:"form-control", placeholder:"Enter No of Employee", required: true, min: '0', max: '20000', maxlength: "10", 'data-parsley-validation-threshold': "1", 'data-parsley-trigger': 'keyup', 'data-parsley-type': 'digits' %>
    </div>

    <div class="modal-footer modal-footer-fixed">
      <% save_button_title = f.object.new_record? ? 'Add' : 'Save' %>
      <%= f.submit save_button_title, class: "btn btn-primary" %>
      <button type="button" class="btn btn-primary not-allowed" disabled>Add More</button>
      <button type="button" class="btn btn-light bg-light-gray text-dark" data-dismiss="modal">Close</button>
    </div>
  <% end %>
</div>
