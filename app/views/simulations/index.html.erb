<section class="content-wrapper">
  <div class="content position-relative">
  	<div class="d-flex">
      <div class="row">
        <div class="col-lg-12">
          <h5 class="text-gray d-inline">Simulations</h5>
          <h5 class="text-gray d-inline"> <i class="fa fa-angle-right"></i></h5>
          <h5 class="text-dark d-inline">View Simulation</h5>
        </div>
      </div>
    </div>
    <hr>
    <div class='row mt-2'>
    	<div class="col-md-2">
    		<h3>Simulation Analytics</h3>
    	</div>
      <div class="col-md-2">
	      <div class="form-group down-arrow">
	        <%= select_tag :option, options_for_select(Simulation::CHART_OPTIONS, params[:option]), class: 'form-control chart_option' %>
	      </div>
	    </div>
      <div class="col-md-2"></div>
      <div class="col-md-2">
        <%= image_pack_tag "simulation/ic_print.svg", class: 'mr-4' %>
        <%= image_pack_tag "simulation/ic_pdf.svg", class: 'mr-4' %>
        <%= image_pack_tag "simulation/ic_share.svg", class: 'mr-4' %>
      </div>
	    <div class="col-md-2">
	      <%= link_to "Input Simulation Data", new_simulation_path, class: 'btn btn-primary' %>
	    </div>
    </div>
    <div id="chart-records">
    	<%= render partial: 'chart_records'%>
    </div>
  </div>
</section>

<script type="text/javascript">
	$(document).on('change', '.chart_option', function(){
		selected_options = $('.chart_option option:selected').val()
		$.ajax({
	    url: '/simulations',
	    type: "GET",
	    data: {"option" : selected_options},
	    dataType: "script",
	    success: function (data) { 
	      console.log("data successfully updated")
	    }
	  })
	})
</script>